import{S as j,i as O,s as U,k as g,q as w,a as q,l as b,m as k,r as E,h as d,c as A,n as p,b as P,G as h,H as v,J as R,u as L,K as F,L as K,g as y,d as x,I as Q,e as H,v as S,f as B,y as M,z as T,A as z,B as J}from"../chunks/index.8fd1069b.js";import{p as W}from"../chunks/stores.f0741670.js";function N(o,e,l){const t=o.slice();return t[2]=e[l],t}function V(o){let e,l,t,n,c=o[2]+"",a,f;return{c(){e=g("li"),l=g("a"),t=g("code"),n=w("/?q="),a=w(c),f=q(),this.h()},l(r){e=b(r,"LI",{});var s=k(e);l=b(s,"A",{href:!0,class:!0});var i=k(l);t=b(i,"CODE",{});var u=k(t);n=E(u,"/?q="),a=E(u,c),u.forEach(d),i.forEach(d),f=A(s),s.forEach(d),this.h()},h(){p(l,"href",o[0]+"?q="+o[2]),p(l,"class","hover:underline")},m(r,s){P(r,e,s),h(e,l),h(l,t),h(t,n),h(t,a),h(e,f)},p:v,d(r){r&&d(e)}}}function X(o){let e,l,t,n,c,a,f,r,s=o[1],i=[];for(let u=0;u<s.length;u+=1)i[u]=V(N(o,s,u));return{c(){e=g("div"),l=g("p"),t=w("Add packages to the query string in the URL to get started ðŸ‘†"),n=q(),c=g("p"),a=w("For example:"),f=q(),r=g("ul");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=b(u,"DIV",{});var _=k(e);l=b(_,"P",{class:!0});var m=k(l);t=E(m,"Add packages to the query string in the URL to get started ðŸ‘†"),m.forEach(d),n=A(_),c=b(_,"P",{});var $=k(c);a=E($,"For example:"),$.forEach(d),f=A(_),r=b(_,"UL",{class:!0});var C=k(r);for(let I=0;I<i.length;I+=1)i[I].l(C);C.forEach(d),_.forEach(d),this.h()},h(){p(l,"class","mb-6"),p(r,"class","ml-2")},m(u,_){P(u,e,_),h(e,l),h(l,t),h(e,n),h(e,c),h(c,a),h(e,f),h(e,r);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(r,null)},p(u,[_]){if(_&3){s=u[1];let m;for(m=0;m<s.length;m+=1){const $=N(u,s,m);i[m]?i[m].p($,_):(i[m]=V($),i[m].c(),i[m].m(r,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=s.length}},i:v,o:v,d(u){u&&d(e),R(i,u)}}}function Y(o){return["./",["axios","react,tailwindcss,@vitejs/plugin-react,prettier","@angular/core,react,vue,svelte"]]}class Z extends j{constructor(e){super(),O(this,e,Y,X,U,{})}}function ee(o){let e,l,t,n,c,a=o[2].format(o[1])+"",f,r;return{c(){e=g("a"),l=g("h2"),t=w(o[0]),n=q(),c=g("p"),f=w(a),this.h()},l(s){e=b(s,"A",{href:!0,target:!0,class:!0});var i=k(e);l=b(i,"H2",{class:!0});var u=k(l);t=E(u,o[0]),u.forEach(d),n=A(i),c=b(i,"P",{class:!0});var _=k(c);f=E(_,a),_.forEach(d),i.forEach(d),this.h()},h(){p(l,"class","flex-1"),p(c,"class","text-lg font-semibold text-blue-600"),p(e,"href",r="https://www.npmjs.com/package/"+o[0]),p(e,"target","_blank"),p(e,"class","flex px-4 py-2 transition-colors hover:bg-gray-100")},m(s,i){P(s,e,i),h(e,l),h(l,t),h(e,n),h(e,c),h(c,f)},p(s,[i]){i&1&&L(t,s[0]),i&2&&a!==(a=s[2].format(s[1])+"")&&L(f,a),i&1&&r!==(r="https://www.npmjs.com/package/"+s[0])&&p(e,"href",r)},i:v,o:v,d(s){s&&d(e)}}}function te(o,e,l){let{name:t}=e,{downloads:n}=e;const c=new Intl.NumberFormat;return o.$$set=a=>{"name"in a&&l(0,t=a.name),"downloads"in a&&l(1,n=a.downloads)},[t,n,c]}class le extends j{constructor(e){super(),O(this,e,te,ee,U,{name:0,downloads:1})}}function D(o,e,l){const t=o.slice();return t[4]=e[l],t}function ae(o){let e,l,t=o[7].message+"",n;return{c(){e=g("p"),l=w("Error: "),n=w(t),this.h()},l(c){e=b(c,"P",{class:!0});var a=k(e);l=E(a,"Error: "),n=E(a,t),a.forEach(d),this.h()},h(){p(e,"class","text-red-500")},m(c,a){P(c,e,a),h(e,l),h(e,n)},p(c,a){a&1&&t!==(t=c[7].message+"")&&L(n,t)},i:v,o:v,d(c){c&&d(e)}}}function ne(o){let e,l,t,n;const c=[oe,re],a=[];function f(r,s){return r[3].length>0?0:1}return e=f(o),l=a[e]=c[e](o),{c(){l.c(),t=H()},l(r){l.l(r),t=H()},m(r,s){a[e].m(r,s),P(r,t,s),n=!0},p(r,s){let i=e;e=f(r),e===i?a[e].p(r,s):(S(),x(a[i],1,1,()=>{a[i]=null}),B(),l=a[e],l?l.p(r,s):(l=a[e]=c[e](r),l.c()),y(l,1),l.m(t.parentNode,t))},i(r){n||(y(l),n=!0)},o(r){x(l),n=!1},d(r){a[e].d(r),r&&d(t)}}}function re(o){let e,l;return e=new Z({}),{c(){M(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p:v,i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function oe(o){let e,l,t=o[3],n=[];for(let a=0;a<t.length;a+=1)n[a]=G(D(o,t,a));const c=a=>x(n[a],1,1,()=>{n[a]=null});return{c(){e=g("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var f=k(e);for(let r=0;r<n.length;r+=1)n[r].l(f);f.forEach(d),this.h()},h(){p(e,"class","divide-y")},m(a,f){P(a,e,f);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);l=!0},p(a,f){if(f&1){t=a[3];let r;for(r=0;r<t.length;r+=1){const s=D(a,t,r);n[r]?(n[r].p(s,f),y(n[r],1)):(n[r]=G(s),n[r].c(),y(n[r],1),n[r].m(e,null))}for(S(),r=t.length;r<n.length;r+=1)c(r);B()}},i(a){if(!l){for(let f=0;f<t.length;f+=1)y(n[f]);l=!0}},o(a){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)x(n[f]);l=!1},d(a){a&&d(e),R(n,a)}}}function G(o){let e,l;return e=new le({props:{name:o[4].package,downloads:o[4].downloads}}),{c(){M(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const c={};n&1&&(c.name=t[4].package),n&1&&(c.downloads=t[4].downloads),e.$set(c)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){x(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function se(o){let e,l;return{c(){e=g("p"),l=w("Loading ...")},l(t){e=b(t,"P",{});var n=k(e);l=E(n,"Loading ..."),n.forEach(d)},m(t,n){P(t,e,n),h(e,l)},p:v,i:v,o:v,d(t){t&&d(e)}}}function ce(o){let e,l,t,n,c,a,f,r,s={ctx:o,current:null,token:null,hasCatch:!0,pending:se,then:ne,catch:ae,value:3,error:7,blocks:[,,,]};return F(t=o[0],s),{c(){e=g("main"),l=g("section"),s.block.c(),n=q(),c=g("footer"),a=g("a"),f=w("View on GitHub"),this.h()},l(i){e=b(i,"MAIN",{class:!0});var u=k(e);l=b(u,"SECTION",{class:!0});var _=k(l);s.block.l(_),_.forEach(d),n=A(u),c=b(u,"FOOTER",{class:!0});var m=k(c);a=b(m,"A",{href:!0,class:!0});var $=k(a);f=E($,"View on GitHub"),$.forEach(d),m.forEach(d),u.forEach(d),this.h()},h(){p(l,"class","flex-1 p-12"),p(a,"href","https://github.com/justinlettau/npm-dashboard"),p(a,"class","text-gray-500 hover:underline"),p(c,"class","p-12"),p(e,"class","min-h-screen container mx-auto flex flex-col")},m(i,u){P(i,e,u),h(e,l),s.block.m(l,s.anchor=null),s.mount=()=>l,s.anchor=null,h(e,n),h(e,c),h(c,a),h(a,f),r=!0},p(i,[u]){o=i,s.ctx=o,u&1&&t!==(t=o[0])&&F(t,s)||K(s,o,u)},i(i){r||(y(s.block),r=!0)},o(i){for(let u=0;u<3;u+=1){const _=s.blocks[u];x(_)}r=!1},d(i){i&&d(e),s.block.d(),s.token=null,s=null}}}async function ie(o){const e=await fetch(`https://api.npmjs.org/downloads/point/last-week/${o}`),l=await e.json();if(!e.ok)throw new Error(l.error);return l}async function ue(o){return(await Promise.all(o.map(l=>ie(l)))).sort((l,t)=>t.downloads-l.downloads)}function fe(o,e,l){let t;Q(o,W,a=>l(2,t=a));let n=Promise.resolve([]),c=[];return o.$$.update=()=>{var a;o.$$.dirty&4&&l(1,c=((a=t.url.searchParams.get("q"))==null?void 0:a.split(","))??[]),o.$$.dirty&2&&l(0,n=ue(c))},[n,c,t]}class me extends j{constructor(e){super(),O(this,e,fe,ce,U,{})}}export{me as component};
